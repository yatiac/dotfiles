# MacBook Formatting and Restoration Plan

This document provides a comprehensive plan to back up your important data and configurations before formatting your MacBook, and then restore it to its current state afterward.

---

## Part 1: Backup Plan (Before Formatting)

The goal is to save all your personal data, development work, and environment configurations to an external hard drive or a cloud storage service.

### 1. Critical User Data (Full Backup)
Back up the entire contents of these folders:
- `~/Desktop`
- `~/Documents`
- `~/Downloads` (Review and keep only what's necessary)
- `~/Movies`
- `~/Music`
- `~/Pictures`
- `~/Public`

### 2. Development Projects
Back up your code repositories and projects:
- `~/Develop`
- `~/Developer`
- `~/go`

### 3. Shell & Terminal Configuration (Dotfiles)
These files are essential for restoring your command-line experience. Back them up individually or as a group.
- `~/.zshrc` (Primary Zsh configuration)
- `~/.zprofile` (Zsh profile configuration)
- `~/.p10k.zsh` (Powerlevel10k prompt theme configuration)
- `~/.gitconfig` (Global Git configuration)
- `~/.ssh/` (**CRITICAL:** This entire folder contains your SSH keys.)
- `~/.npmrc` and `~/.yarnrc` (Configuration for npm and Yarn)
- `~/.tmux.conf` (TMUX configuration)

### 4. Application Configurations
Back up these folders to preserve settings for your key applications:
- `~/.config/` (Especially `github-copilot/`, `gcloud/`, `iterm2/`, `nvim/`, `raycast/`)
- `~/.vscode/` and/or `~/.vscode-insiders/`
- `~/Postman/` (Postman collections and settings)
- `~/.orbstack/` (OrbStack settings and container metadata)
- `~/.nuget/`
- `~/.azuredatastudio/`

### 5. Generated Software Lists
The following files have been generated and saved to your home directory or Desktop. Back them up as they are the blueprint for your software re-installation.
- `~/Brewfile` (Generated by `brew bundle dump`)
- `~/Desktop/vscode_extensions.txt` (Generated by `code --list-extensions`)
- `~/Desktop/manual_applications_list.txt` (A list of apps to install manually)

---

## Part 2: Restoration Plan (After Formatting)

This is your checklist to get your new, clean system back to its productive state.

### 1. Initial macOS Setup
- Complete the standard macOS installation and setup assistant.
- Log in with your Apple ID.
- Install Xcode from the Mac App Store, as it's a large download and good to start early.

### 2. Install Core Developer Tools
- Open the Terminal and run: `xcode-select --install`

### 3. Install Homebrew
- Visit the Homebrew website (`brew.sh`), copy the installation command, and run it in your terminal.

### 4. Restore Dotfiles and SSH Keys
- Copy your backed-up dotfiles (`.zshrc`, `.gitconfig`, etc.) to your new home directory (`~/`).
- **CRITICAL:** Copy the entire `.ssh` folder to `~/`. Then, immediately run these commands to set the correct permissions:
  ```bash
  chmod 700 ~/.ssh
  chmod 600 ~/.ssh/*
  ```

### 5. Install Software with Homebrew
- Copy the `Brewfile` you backed up to your new home directory.
- Run the command: `brew bundle install`. This will read the `Brewfile` and automatically install most of your command-line tools and GUI applications.

### 6. Set up Shell
- Open a new terminal window. Your shell (Zsh) and prompt (Powerlevel10k) should automatically use your restored configuration files.

### 7. Install Runtimes and SDKs
- **Node.js:** `nvm` was installed via your `Brewfile`. Use the list you saved to reinstall your needed Node.js versions (e.g., `nvm install 20.11.1` and `nvm alias default 20.11.1`).
- **.NET:** The .NET SDK was also installed via the `Brewfile`.

### 8. Restore VS Code Extensions
- Using the `vscode_extensions.txt` file you backed up:
  ```bash
  cat ~/Desktop/vscode_extensions.txt | xargs -L 1 code --install-extension
  ```

### 9. Restore Application Settings & Data
- Copy your backed-up application configuration folders (`.config`, `Postman`, `.orbstack`, etc.) back to your home directory.
- Copy your personal data (`Develop`, `Documents`, etc.) back to your home directory.

### 10. Manually Install Remaining Applications
- Use the `manual_applications_list.txt` file to download and install any remaining applications that were not managed by Homebrew.

### 11. Final Verification
- Open your key applications (OrbStack, VS Code, etc.) to ensure settings are restored.
- Navigate to a project folder and try to build it.
- Test your Git and SSH access to a remote repository.
